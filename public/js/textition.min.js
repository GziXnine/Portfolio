(d=>{d.fn.textition=function(t){var e,s,i=d.extend({map:{x:100,y:50,z:1e3},speed:1,animation:"ease",handler:"click",perspective:300,autoplay:!1,interval:3,element:this},t),t=this,a=this.children(),n=0,r={},o=function(t){return Math.round(Math.random()*t)-t/2},p=function(){var t,e=0,s=0,a=0;for(t in i.map)switch(t){case"x":e=o(i.map.x);break;case"y":s=o(i.map.y);break;case"z":a=o(i.map.z)}d(this).css({"-webkit-transform":"translate3d("+e+"px, "+s+"px, "+a+"px)","-moz-transform":"translate3d("+e+"px, "+s+"px, "+a+"px)","-ms-transform":"translate3d("+e+"px, "+s+"px, "+a+"px)","-o-transform":"translate3d("+e+"px, "+s+"px, "+a+"px)",transform:"translate3d("+e+"px, "+s+"px, "+a+"px)"})},c=function(){d(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate3d(0px, 0px, 0px)","-ms-transform":"translate3d(0px, 0px, 0px)","-o-transform":"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)"})},m=function(t){i.autoplay&&t&&!t.isTrigger&&(clearInterval(e),e=setInterval(l,1e3*i.interval)),d(a[n]).css("opacity",0).children().each(p),++n>a.length-1&&(n=0),d(a[n]).css("opacity",1).children().each(c)},l=function(){m()},f=a.first();r.top=f.offset().top-t.offset().top,r.left=f.offset().left-t.offset().left,r.width=f.width(),(f=a.not(":first")).hide().css("opacity",0),s=t.css("position"),t.css({"-webkit-perspective":i.perspective+"px","-moz-perspective":i.perspective+"px","-ms-perspective":i.perspective+"px","-o-perspective":i.perspective+"px",perspective:i.perspective+"px",position:"static"===s?"relative":s,height:t.height(),width:t.width()}),a.each(function(){for(var t,e=d(this),s=e.text(),a="",i=0;i<s.length;i++)a+="<l>"+(" "===(t=s[i])?"&nbsp;":t)+"</l>";e.html(a)}),a.each(function(){d(this).css({"-webkit-transform-style":"preserve-3d","-moz-transform-style":"preserve-3d","-ms-transform-style":"preserve-3d","-o-transform-style":"preserve-3d","transform-style":"preserve-3d","-webkit-transition":"opacity "+i.speed+"s "+i.animation,"-moz-transition":"opacity "+i.speed+"s "+i.animation,"-ms-transition":"opacity "+i.speed+"s "+i.animation,"-o-transition":"opacity "+i.speed+"s "+i.animation,transition:"opacity "+i.speed+"s "+i.animation,position:"absolute",display:"block",width:r.width,left:r.left,top:r.top})}),t.find("l").each(function(){d(this).css({"-webkit-transition":"-webkit-transform "+i.speed+"s "+i.animation,"-moz-transition":"-moz-transform "+i.speed+"s "+i.animation,"-ms-transition":"-ms-transform "+i.speed+"s "+i.animation,"-o-transition":"-o-transform "+i.speed+"s "+i.animation,transition:"transform "+i.speed+"s "+i.animation,display:"inline-block"})}),f.show().children().each(p),i.handler&&i.element.bind(i.handler,m),i.autoplay&&(e=setInterval(l,1e3*i.interval))}})(jQuery);